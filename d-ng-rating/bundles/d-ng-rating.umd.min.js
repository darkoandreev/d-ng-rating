!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@fortawesome/free-solid-svg-icons"),require("@angular/cdk/coercion"),require("@angular/common"),require("@angular/platform-browser"),require("@fortawesome/angular-fontawesome")):"function"==typeof define&&define.amd?define("d-ng-rating",["exports","@angular/core","@angular/forms","@fortawesome/free-solid-svg-icons","@angular/cdk/coercion","@angular/common","@angular/platform-browser","@fortawesome/angular-fontawesome"],t):t((e=e||self)["d-ng-rating"]={},e.ng.core,e.ng.forms,e.freeSolidSvgIcons,e.ng.cdk.coercion,e.ng.common,e.ng.platformBrowser,e.angularFontawesome)}(this,(function(e,t,n,r,o,i,a,l){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function s(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}var c,u=function(){throw Error("Rating size must be greater than zero.")},d=function(){throw Error("Rate definition must be greather than zero.")},p=function(){function e(){}return Object.defineProperty(e.prototype,"ngRatingLabel",{get:function(){return!0},enumerable:!0,configurable:!0}),s([t.HostBinding("class.d-ng-rating-label")],e.prototype,"ngRatingLabel",null),e=s([t.Directive({selector:"[ngRatingLabel], d-ng-rating-label"})],e)}();!function(e){e.End="End",e.Home="Home",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown"}(c||(c={}));var g={provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return h})),multi:!0},f=0,h=function(){function e(){this._selectedIndex=-1,this.id="ng-star-rating-"+f++,this.ariaLabel="star",this.ariaLabelledby="Star rating",this._size=5,this._readonly=!1,this._disabled=!1,this._showCancelIcon=!1,this.icon=r.faStar,this.cancelIcon=r.faBan,this.rateChange=new t.EventEmitter,this.rateCancel=new t.EventEmitter,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){}}return Object.defineProperty(e.prototype,"starRatingClass",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaValueMin",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaValueMax",{get:function(){return this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaValueNow",{get:function(){return this._selectedIndex+1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaValueTextAttr",{get:function(){return this.ariaValueText},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return"slider"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabindexAttr",{get:function(){return this.disabled?-1:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaDisabled",{get:function(){return this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaReadonly",{get:function(){return this.readonly},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ariaSetSize",{get:function(){return this.size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rating",{get:function(){return this._rating},set:function(e){e<=0&&d(),this._rating=o.coerceNumberProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(e){e<=0&&u(),this._size=o.coerceNumberProperty(e),this.ratings=Array.from(new Array(e)).map((function(){return{hovered:!1}}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readonly",{get:function(){return this._readonly},set:function(e){this._readonly=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showCancelIcon",{get:function(){return this._showCancelIcon},set:function(e){this._showCancelIcon=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnChanges=function(e){"rating"in e&&e.rating.currentValue>0&&(this.ratingsHover(this.rating-1),this._selectedIndex=this.rating-1)},e.prototype.hoveredItem=function(e){this.readonly||this.ratingsHover(e)},e.prototype.handleClick=function(e){this.readonly||this.update(e)},e.prototype.cancel=function(){this._selectedIndex=-1,this.ratings.forEach((function(e){return e.hovered=!1})),this.rateCancel.emit()},e.prototype.mouseLeave=function(){var e=this;this.readonly||this.ratings.forEach((function(t,n){return t.hovered=!(n>e._selectedIndex)}))},e.prototype.blur=function(){this.onTouched()},e.prototype.handleKeyDown=function(e){switch(e.code){case c.ArrowDown:case c.ArrowLeft:this._selectedIndex>-1&&(this._selectedIndex--,this.update(this._selectedIndex));break;case c.ArrowUp:case c.ArrowRight:this._selectedIndex<this.size-1&&(this._selectedIndex++,this.update(this._selectedIndex));break;case c.Home:this.update(0);break;case c.End:this.update(this.size-1);break;default:return}e.preventDefault()},e.prototype.writeValue=function(e){e&&(this._controlValueAccessorChangeFn(e),this.rating=e,this._selectedIndex=e-1,this.ratingsHover(e-1))},e.prototype.registerOnChange=function(e){this._controlValueAccessorChangeFn=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e},e.prototype.update=function(e){this._selectedIndex=e,this.hoveredItem(this._selectedIndex),this.onTouched(),this.rateChange.emit(e+1)},e.prototype.ratingsHover=function(e){this.ratings.forEach((function(t,n){return t.hovered=e>=n}))},Object.defineProperty(e.prototype,"ariaValueText",{get:function(){return this._selectedIndex+1+" out of "+this.size},enumerable:!0,configurable:!0}),s([t.ContentChild(p)],e.prototype,"ratingLabelTemplate",void 0),s([t.HostBinding("class.ng-star-rating")],e.prototype,"starRatingClass",null),s([t.HostBinding("attr.id"),t.Input()],e.prototype,"id",void 0),s([t.HostBinding("attr.aria-label"),t.Input("aria-label")],e.prototype,"ariaLabel",void 0),s([t.HostBinding("attr.aria-labelledby"),t.Input("aria-labelledby")],e.prototype,"ariaLabelledby",void 0),s([t.HostBinding("attr.aria-valuemin")],e.prototype,"ariaValueMin",null),s([t.HostBinding("attr.aria-valuemax")],e.prototype,"ariaValueMax",null),s([t.HostBinding("attr.aria-valuenow")],e.prototype,"ariaValueNow",null),s([t.HostBinding("attr.aria-valuetext")],e.prototype,"ariaValueTextAttr",null),s([t.HostBinding("attr.role")],e.prototype,"role",null),s([t.HostBinding("attr.tabindex")],e.prototype,"tabindexAttr",null),s([t.HostBinding("attr.aria-disabled")],e.prototype,"ariaDisabled",null),s([t.HostBinding("attr.aria-readonly")],e.prototype,"ariaReadonly",null),s([t.HostBinding("attr.aria-setsize")],e.prototype,"ariaSetSize",null),s([t.Input()],e.prototype,"rating",null),s([t.Input()],e.prototype,"size",null),s([t.Input()],e.prototype,"readonly",null),s([t.Input()],e.prototype,"disabled",null),s([t.Input()],e.prototype,"showCancelIcon",null),s([t.Input()],e.prototype,"icon",void 0),s([t.Input()],e.prototype,"cancelIcon",void 0),s([t.Output()],e.prototype,"rateChange",void 0),s([t.Output()],e.prototype,"rateCancel",void 0),s([t.ContentChild(t.TemplateRef,{static:!1})],e.prototype,"ratingTemplateContent",void 0),s([t.Input()],e.prototype,"ratingTemplate",void 0),s([t.HostListener("mouseleave")],e.prototype,"mouseLeave",null),s([t.HostListener("blur")],e.prototype,"blur",null),s([t.HostListener("keydown",["$event"])],e.prototype,"handleKeyDown",null),e=s([t.Component({selector:"d-ng-rating",template:'<button *ngIf="showCancelIcon" class="d-ng-rating-cancel" (click)="cancel()">\n  <fa-icon [icon]="cancelIcon"></fa-icon>\n</button>\n<ng-container *ngFor="let rating of ratings; let index = index">\n  <button\n    type="button"\n    class="d-ng-rating-item"\n    [attr.aria-selected]="_selectedIndex === index"\n    [attr.aria-posinset]="index + 1"\n    [disabled]="disabled"\n    [class.d-ng-rating-item-disabled]="disabled"\n    (mouseenter)="hoveredItem(index)"\n    (click)="handleClick(index)"\n  >\n    <ng-container\n      *ngTemplateOutlet="ratingTemplateContent || ratingTemplate || defaultTemplate; context: rating"\n    ></ng-container>\n  </button>\n</ng-container>\n\n<ng-content select="[ngRatingLabel], d-ng-rating-label"></ng-content>\n\n<ng-template #defaultTemplate let-hovered="hovered">\n  <fa-icon [class.d-ng-rating-item-icon-hover]="hovered" class="d-ng-rating-item-icon" [icon]="icon"></fa-icon>\n</ng-template>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[g],encapsulation:t.ViewEncapsulation.None,styles:[":host{display:inline-flex;flex-direction:row;flex-wrap:wrap;outline:0}.d-ng-rating-item{border:none;outline:0;background:0 0}.d-ng-rating-item-icon{font-size:1.875rem;transition:.3s}.d-ng-rating-item-disabled{pointer-events:none;opacity:.7}.d-ng-rating-item-icon-hover{color:gold;cursor:pointer}.d-ng-rating-cancel{border:none;outline:0;background:0 0}.d-ng-rating-cancel fa-icon{font-size:1.875rem;color:#dc143c}.d-ng-rating-cancel fa-icon:hover{cursor:pointer}.d-ng-rating-label{display:inline-flex;align-self:center;padding-left:1rem;font-size:1.875rem}"]})],e)}(),b=function(){function e(){}return e=s([t.NgModule({declarations:[h,p],imports:[i.CommonModule,n.FormsModule,a.HammerModule,l.FontAwesomeModule],exports:[h,p]})],e)}();e.NG_RATING_VALUE_ACCESSOR=g,e.NgRatingComponent=h,e.NgRatingLabelDirective=p,e.NgRatingModule=b,e.RATE_SET_ERROR=d,e.RATING_SIZE_ERROR=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=d-ng-rating.umd.min.js.map